!function(){"use strict";function t(t){return!!t&&"object"==typeof t}function r(r){if(!t(r)||s.call(r)!=c)return!1;var o=Object.getPrototypeOf(r);if(null===o)return!0;var n=o.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==u}function o(t,n){if(!r(t))return t;null==t&&(t={});for(var e in n)if(i.call(n,e)){var s=n[e];r(s)?t[e]=o(t[e]||{},s):t[e]=s}return t}function n(t){if(null==t||!r(t))return t;for(var n=1,e=arguments.length;n<e;n++)t=o(t,arguments[n]);return t}function e(t,r,o){this.data=t,this.source=r,this.origin=o}var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Function.prototype.toString,u=a.call(Object),c="[object Object]";e.prototype={constructor:e,post:function(t){var r=n({},t||{},{_requestID:this.data._requestID});this.source.postMessage(JSON.stringify(r),this.origin)},postData:function(t){this.post({data:t})},postError:function(t){this.post({error:t})}},function(t){window.addEventListener("message",function(r){var o=JSON.parse(r.data),n=r.source,i=r.origin;t(new e(o,n,i))},!1)}(function(t){var r=t.data,o=t.postError.bind(t),n=t.postData.bind(t);if(!r.obj)return o('missing "obj" property');var e=window[r.obj];if(!e)return o(r.obj+" not supported");if(!r.op)return o('missing "op" property');if(!(r.op in e))return o("method does not exists "+r.obj+"."+r.op);try{n(e[r.op].apply(e,r.args||[]))}catch(t){o(t.message)}})}();
